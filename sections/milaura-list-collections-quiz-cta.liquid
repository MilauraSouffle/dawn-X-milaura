{%- comment -%}
  MILAURA LIST COLLECTIONS QUIZ CTA
  CTA pour rediriger vers le quiz emotionnel
  Design: Bandeau glassmorphism avec effet particules subtil
  @version 1.0.0
{%- endcomment -%}

{%- style -%}
  #MilauraListCollectionsQuizCta-{{ section.id }} {
    padding: var(--milaura-spacing-xl) 0;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__card {
    position: relative;
    overflow: hidden;
    border-radius: var(--milaura-border-radius, 20px);
    padding: var(--milaura-spacing-xl) var(--milaura-spacing-lg);
    text-align: center;
    background: linear-gradient(
      135deg,
      rgba(192, 160, 98, 0.08) 0%,
      rgba(253, 251, 247, 0.95) 50%,
      rgba(192, 160, 98, 0.12) 100%
    );
    border: 1px solid rgba(192, 160, 98, 0.25);
    box-shadow:
      0 20px 50px rgba(192, 160, 98, 0.15),
      0 0 0 1px rgba(255, 255, 255, 0.5) inset;
  }

  /* Decorative circles */
  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__card::before,
  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__card::after {
    content: '';
    position: absolute;
    border-radius: 50%;
    pointer-events: none;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__card::before {
    top: -50px;
    left: -50px;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, rgba(192, 160, 98, 0.15) 0%, transparent 70%);
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__card::after {
    bottom: -80px;
    right: -80px;
    width: 250px;
    height: 250px;
    background: radial-gradient(circle, rgba(192, 160, 98, 0.1) 0%, transparent 70%);
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__content {
    position: relative;
    z-index: 1;
    max-width: 650px;
    margin: 0 auto;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 80px;
    height: 80px;
    margin-bottom: var(--milaura-spacing-md);
    font-size: 40px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 50%;
    box-shadow:
      0 10px 30px rgba(192, 160, 98, 0.2),
      0 0 0 1px rgba(192, 160, 98, 0.2);
    animation: milauraPulse 3s ease-in-out infinite;
  }

  @keyframes milauraPulse {
    0%, 100% {
      transform: scale(1);
      box-shadow:
        0 10px 30px rgba(192, 160, 98, 0.2),
        0 0 0 1px rgba(192, 160, 98, 0.2);
    }
    50% {
      transform: scale(1.05);
      box-shadow:
        0 15px 40px rgba(192, 160, 98, 0.3),
        0 0 0 4px rgba(192, 160, 98, 0.1);
    }
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__eyebrow {
    display: inline-block;
    padding: 6px 16px;
    margin-bottom: var(--milaura-spacing-sm);
    background: var(--milaura-gold, #C0A062);
    color: #ffffff;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    border-radius: 50px;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__title {
    font-family: {{ section.settings.title_font }};
    font-size: {{ section.settings.title_size }}px;
    color: {{ section.settings.title_color }};
    font-weight: 600;
    margin: 0 0 var(--milaura-spacing-sm) 0;
    line-height: 1.2;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__text {
    font-size: {{ section.settings.text_size }}px;
    color: {{ section.settings.text_color }};
    line-height: 1.7;
    margin: 0 0 var(--milaura-spacing-lg) 0;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--milaura-spacing-sm);
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 16px 36px;
    background: linear-gradient(135deg, var(--milaura-gold, #C0A062) 0%, #d4b06a 100%);
    color: #ffffff;
    font-family: var(--milaura-font-body);
    font-weight: 700;
    font-size: 15px;
    text-decoration: none;
    border-radius: 50px;
    transition: all 0.3s ease;
    box-shadow:
      0 8px 25px rgba(192, 160, 98, 0.4),
      0 0 0 0 rgba(192, 160, 98, 0.5);
    position: relative;
    overflow: hidden;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.3),
      transparent
    );
    transition: left 0.5s ease;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary:hover::before {
    left: 100%;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary:hover {
    transform: translateY(-3px);
    box-shadow:
      0 12px 35px rgba(192, 160, 98, 0.5),
      0 0 0 4px rgba(192, 160, 98, 0.2);
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary svg {
    width: 20px;
    height: 20px;
    transition: transform 0.3s ease;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary:hover svg {
    transform: translateX(4px);
  }

  /* Testimonial mini */
  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__testimonial {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--milaura-spacing-sm);
    margin-top: var(--milaura-spacing-lg);
    padding-top: var(--milaura-spacing-md);
    border-top: 1px solid rgba(192, 160, 98, 0.15);
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__avatars {
    display: flex;
    margin-right: 4px;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 2px solid #ffffff;
    margin-left: -10px;
    background: linear-gradient(135deg, #F2E8D5 0%, #E6D8C0 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__avatar:first-child {
    margin-left: 0;
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__social-proof {
    font-size: 13px;
    color: var(--milaura-text-light, #666666);
  }

  #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__social-proof strong {
    color: var(--milaura-gold, #C0A062);
  }

  /* Mobile */
  @media screen and (max-width: 768px) {
    #MilauraListCollectionsQuizCta-{{ section.id }} {
      padding: var(--milaura-spacing-lg) 0;
    }

    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__card {
      padding: var(--milaura-spacing-lg) var(--milaura-spacing-md);
    }

    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__icon {
      width: 64px;
      height: 64px;
      font-size: 32px;
    }

    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__title {
      font-size: 26px;
    }

    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__text {
      font-size: 15px;
    }

    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary {
      width: 100%;
      justify-content: center;
    }

    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__testimonial {
      flex-direction: column;
      gap: 8px;
    }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__icon {
      animation: none;
    }

    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary,
    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary::before,
    #MilauraListCollectionsQuizCta-{{ section.id }} .milaura-quiz-cta__btn-primary svg {
      transition: none;
    }
  }
{%- endstyle -%}

<section
  id="MilauraListCollectionsQuizCta-{{ section.id }}"
  class="milaura-list-collections-quiz-cta"
>
  <div class="page-width">
    <div class="milaura-quiz-cta__card">
      <div class="milaura-quiz-cta__content">
        {%- comment -%} Icon {%- endcomment -%}
        <div class="milaura-quiz-cta__icon">
          {{ section.settings.icon | default: '‚ú®' }}
        </div>

        {%- comment -%} Eyebrow {%- endcomment -%}
        {%- if section.settings.eyebrow != blank -%}
          <span class="milaura-quiz-cta__eyebrow">{{ section.settings.eyebrow }}</span>
        {%- endif -%}

        {%- comment -%} Title {%- endcomment -%}
        <h2 class="milaura-quiz-cta__title">
          {{ section.settings.title | default: 'Tu ne sais pas par ou commencer ?' }}
        </h2>

        {%- comment -%} Text {%- endcomment -%}
        {%- if section.settings.text != blank -%}
          <p class="milaura-quiz-cta__text">
            {{ section.settings.text }}
          </p>
        {%- endif -%}

        {%- comment -%} CTA {%- endcomment -%}
        <div class="milaura-quiz-cta__buttons">
          <a href="{{ section.settings.button_link | default: '/pages/quiz' }}" class="milaura-quiz-cta__btn-primary">
            {{ section.settings.button_text | default: 'Decouvrir mon profil' }}
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M5 12h14"></path>
              <path d="m12 5 7 7-7 7"></path>
            </svg>
          </a>
        </div>

        {%- comment -%} Social proof {%- endcomment -%}
        {%- if section.settings.show_social_proof -%}
          <div class="milaura-quiz-cta__testimonial">
            <div class="milaura-quiz-cta__avatars">
              <span class="milaura-quiz-cta__avatar">üë©</span>
              <span class="milaura-quiz-cta__avatar">üë©‚Äçü¶∞</span>
              <span class="milaura-quiz-cta__avatar">üë±‚Äç‚ôÄÔ∏è</span>
              <span class="milaura-quiz-cta__avatar">üë©‚Äçü¶±</span>
            </div>
            <span class="milaura-quiz-cta__social-proof">
              <strong>{{ section.settings.social_proof_count | default: '2 847' }}</strong> {{ section.settings.social_proof_text | default: 'personnes ont trouve leur match' }}
            </span>
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Milaura Quiz CTA",
  "tag": "section",
  "class": "milaura-section",
  "settings": [
    {
      "type": "header",
      "content": "üìù Contenu"
    },
    {
      "type": "text",
      "id": "icon",
      "label": "Icone (emoji)",
      "default": "‚ú®"
    },
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Sur-titre",
      "default": "Quiz 2 min"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Titre",
      "default": "Tu ne sais pas par ou commencer ?"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Texte",
      "default": "Notre quiz emotionnel t'aide a trouver la creation parfaite selon tes besoins du moment. En 5 questions, decouvre ton profil et les pieces qui t'accompagneront."
    },
    {
      "type": "header",
      "content": "üîò Bouton"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Texte du bouton",
      "default": "Decouvrir mon profil"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Lien du bouton"
    },
    {
      "type": "header",
      "content": "üë• Social Proof"
    },
    {
      "type": "checkbox",
      "id": "show_social_proof",
      "label": "Afficher la preuve sociale",
      "default": true
    },
    {
      "type": "text",
      "id": "social_proof_count",
      "label": "Nombre",
      "default": "2 847"
    },
    {
      "type": "text",
      "id": "social_proof_text",
      "label": "Texte",
      "default": "personnes ont trouve leur match"
    },
    {
      "type": "header",
      "content": "‚úèÔ∏è Style"
    },
    {
      "type": "select",
      "id": "title_font",
      "label": "Police du titre",
      "options": [
        { "value": "'Lato', sans-serif", "label": "Lato" },
        { "value": "'Playfair Display', serif", "label": "Playfair Display" },
        { "value": "'Dancing Script', cursive", "label": "Dancing Script" }
      ],
      "default": "'Dancing Script', cursive"
    },
    {
      "type": "range",
      "id": "title_size",
      "label": "Taille du titre",
      "min": 24,
      "max": 48,
      "step": 1,
      "unit": "px",
      "default": 36
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Couleur du titre",
      "default": "#1b1b1b"
    },
    {
      "type": "range",
      "id": "text_size",
      "label": "Taille du texte",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Couleur du texte",
      "default": "#666666"
    }
  ],
  "presets": [
    {
      "name": "Milaura Quiz CTA"
    }
  ]
}
{% endschema %}
