{% style %}
  /* --- LE CONTENEUR PRINCIPAL (OR) --- */
  #MilauraAnnouncement-{{ section.id }} {
    position: fixed; /* FixÃ© en haut du site */
    top: 0;
    left: 0;
    width: 100%;
    height: 38px; /* Hauteur fine et Ã©lÃ©gante */
    overflow: hidden;
    background: linear-gradient(90deg, #C0A062, #E6C88B, #C0A062); /* Fond Or Riche */
    z-index: 1000001; /* Au-dessus de la navbar (qui est Ã  1000000) */
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }
  
  /* Compensation pour le body : ajouter un padding-top Ã©gal Ã  la hauteur de l'annonce */
  body {
    padding-top: 38px;
  }
  
  @media screen and (max-width: 768px) {
    body {
      padding-top: 40px; /* Hauteur mobile de l'annonce */
    }
  }

  /* --- LE BROUILLARD ARGENTÃ‰ (SHIMMER) --- */
  #MilauraAnnouncement-{{ section.id }}::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 200%;
    height: 100%;
    /* Le voile argentÃ© : Transparent -> Blanc lÃ©ger -> Transparent */
    background: linear-gradient(
      110deg, 
      transparent 30%, 
      rgba(255, 255, 255, 0.4) 50%, 
      transparent 70%
    );
    animation: silverFog 3s infinite linear; /* Animation rapide et constante */
    pointer-events: none;
    mix-blend-mode: overlay; /* Fusionne joliment avec l'or */
  }

  /* --- LE TEXTE DÃ‰FILANT (BFM STYLE) --- */
  .marquee-container {
    display: flex;
    align-items: center;
    height: 100%;
    width: 100%;
    overflow: hidden;
  }

  .marquee-track {
    display: flex;
    align-items: center;
    white-space: nowrap;
    animation: scrollText 20s linear infinite; /* Vitesse du dÃ©filement */
    gap: 4rem; /* Espace entre la fin et le dÃ©but de la boucle */
    padding-left: 4rem;
  }
  
  /* Pause au survol pour laisser lire */
  .marquee-container:hover .marquee-track {
    animation-play-state: paused;
  }

  .announcement-item {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    color: #FFFFFF; /* Texte Blanc pour le contraste sur l'or */
    font-family: 'Lato', sans-serif;
    font-weight: 700;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }

  .announcement-icon {
    font-size: 1.1rem;
  }

  /* --- ANIMATIONS --- */
  @keyframes silverFog {
    0% { transform: translateX(-150%); }
    100% { transform: translateX(50%); }
  }

  @keyframes scrollText {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); } /* On dÃ©place de 50% car on a dupliquÃ© le contenu */
  }

  /* Mobile : on accÃ©lÃ¨re un peu car l'Ã©cran est plus petit */
  @media screen and (max-width: 768px) {
    .marquee-track {
      animation-duration: 15s;
    }
    #MilauraAnnouncement-{{ section.id }} {
      height: 40px;
    }
    .announcement-item {
      font-size: 0.8rem;
    }
  }
{% endstyle %}

<div id="MilauraAnnouncement-{{ section.id }}">
  <div class="marquee-container">
    <div class="marquee-track">
      
      {%- for block in section.blocks -%}
        <div class="announcement-item">
          {% if block.settings.icon != blank %}
            <span class="announcement-icon">{{ block.settings.icon }}</span>
          {% endif %}
          <span>{{ block.settings.text }}</span>
        </div>
        <div class="announcement-item">â€¢</div> 
      {%- endfor -%}

      {%- for block in section.blocks -%}
        <div class="announcement-item">
          {% if block.settings.icon != blank %}
            <span class="announcement-icon">{{ block.settings.icon }}</span>
          {% endif %}
          <span>{{ block.settings.text }}</span>
        </div>
        <div class="announcement-item">â€¢</div>
      {%- endfor -%}

    </div>
  </div>
</div>

{% schema %}
{
  "name": "Milaura Announce Gold",
  "settings": [],
  "blocks": [
    {
      "type": "announcement",
      "name": "Message",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Message",
          "default": "Bienvenue chez Mil'Aura"
        },
        {
          "type": "text",
          "id": "icon",
          "label": "Emoji/IcÃ´ne",
          "default": "âœ¨",
          "info": "Copiez-collez un emoji ici (ex: ðŸ‡«ðŸ‡·, ðŸ’Ž, ðŸ“¦)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Milaura Announce Gold",
      "blocks": [
        {
          "type": "announcement",
          "settings": {
            "text": "Livraison offerte dÃ¨s 39 â‚¬",
            "icon": "âœ¨"
          }
        },
        {
          "type": "announcement",
          "settings": {
            "text": "Chaque commande prÃ©parÃ©e avec soin en France",
            "icon": "ðŸ‡«ðŸ‡·"
          }
        },
        {
          "type": "announcement",
          "settings": {
            "text": "Pierres certifiÃ©es",
            "icon": "ðŸ’Ž"
          }
        }
      ]
    }
  ]
}
{% endschema %}